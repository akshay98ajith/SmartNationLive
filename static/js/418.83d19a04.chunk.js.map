{"version":3,"file":"static/js/418.83d19a04.chunk.js","mappings":"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","sources":["Pages/Auth/User/User.jsx"],"sourcesContent":["import axios, { eventsApiURL } from '../../../axios';\r\nimport React from 'react'\r\nimport { Card, Col, Container, Row } from 'react-bootstrap';\r\nimport { useForm } from 'react-hook-form';\r\nimport './User.scss'\r\nimport { useState } from 'react';\r\nimport bootdis from '../../../assets/drawable/bootdis.png'\r\nimport booten from '../../../assets/drawable/booten.png'\r\nimport eyedis from '../../../assets/drawable/eyedis.png'\r\nimport eyeen from '../../../assets/drawable/eyeen.png'\r\nimport glovedis from '../../../assets/drawable/glovedis.png'\r\nimport gloveen from '../../../assets/drawable/gloveen.png'\r\nimport hatdis from '../../../assets/drawable/hatdis.png'\r\nimport haten from '../../../assets/drawable/haten.png'\r\nimport maskdis from '../../../assets/drawable/maskdis.png'\r\nimport masken from '../../../assets/drawable/masken.png'\r\nimport vestdis from '../../../assets/drawable/vestdis.png'\r\nimport vesten from '../../../assets/drawable/vesten.png'\r\nimport { redirect } from 'react-router-dom';\r\nconst User = () => {\r\n    const { register, handleSubmit } = useForm();\r\n    const [fileName, setFileName] = useState('Click to Upload a File')\r\n    const [resultData, setResultData] = useState([])\r\n    const [dataVisible, setDataVisible] = useState(false)\r\n    const onSubmit = (data) => {\r\n        return new Promise((resolve, reject) => {\r\n            const fileReader = new FileReader();\r\n            fileReader.readAsDataURL(data.image[0]);\r\n            fileReader.onload = () => {\r\n                resolve(fileReader.result);\r\n                const image64 = fileReader.result.replace('data:image/jpeg;base64,', '').replace('data:image/png;base64,', '').replace('data:image/jpg;base64,', '')\r\n                console.log(\"ðŸš€ ~ file: User.jsx:15 ~ returnnewPromise ~ image64\", image64)\r\n                axios.post(eventsApiURL, {\r\n                    health: \"\",\r\n                    rule: \"\",\r\n                    person: \"\",\r\n                    deviceid: \"safetybrain-website\",\r\n                    lng: 0.0,\r\n                    lat: 0.0,\r\n                    image: image64,\r\n                }).then((res) => {\r\n                    console.log(res.data);\r\n                    setResultData(res.data)\r\n                    setDataVisible(true)\r\n                }).catch((err) => {\r\n                    console.log(err);\r\n                })\r\n            };\r\n            fileReader.onerror = (error) => {\r\n                reject(error);\r\n            };\r\n        });\r\n    };\r\n\r\n    const logOutHandler = () => {\r\n        sessionStorage.clear()\r\n        window.location.reload()\r\n        return redirect(\"/login\")\r\n    }\r\n    return (\r\n        <div className='User'>\r\n            <div className=\"pages\">\r\n                <Container>\r\n                    <div className=\"upload\">\r\n                        <form className='fileUpload' onSubmit={handleSubmit(onSubmit)}>\r\n                            <label htmlFor=\"inputTag\" onChange={(e) => setFileName(e.target.files[0].name)} >\r\n                                {fileName}\r\n                                <input id='inputTag' type=\"file\" {...register(\"image\")} />\r\n                            </label>\r\n                            <button className='btn' type=\"submit\">Send Image</button>\r\n                        </form>\r\n                    </div>\r\n                    {dataVisible ?\r\n                        <div className=\"result\">\r\n                            <Card className='resultCard'>\r\n                                <Row className='d-flex justify-content-around align-items-center'>\r\n                                    <Col md={3} className=\"text-center\">\r\n                                        <img src={resultData.SafetyResult ? `http://109.205.28.225:8443${resultData.SafetyResult[0].Photo}` : \"\"} alt=\"\" className=\"img-fluid resultImg\" />\r\n                                    </Col>\r\n                                    <Col md={4}>\r\n                                        <h5>ID: {resultData.id ? resultData.id : \"NA\"}</h5>\r\n                                        <h5>Device Name: {resultData.Device ? resultData.Device.Name : \"NA\"}</h5>\r\n                                        <h5>Latitude: {resultData.Device.Lattitude ? resultData.Device.Lattitude : 0}</h5>\r\n                                        <h5>Longitude: {resultData.Device.Longitude ? resultData.Device.Longitude : 0}</h5>\r\n                                    </Col>\r\n                                    <Col md={5}>\r\n                                        <Row className='rowCustom'>\r\n                                            <Col xs={4}>\r\n                                                <img src={resultData.SafetyResult ? resultData.SafetyResult[0].Boot ? booten : bootdis : \"\"} alt=\"\" className=\"img-fluid safImg\" />\r\n                                            </Col>\r\n                                            <Col xs={4}>\r\n                                                <img src={resultData.SafetyResult ? resultData.SafetyResult[0].Glasses ? eyeen : eyedis : \"\"} alt=\"\" className=\"img-fluid safImg\" />\r\n                                            </Col>\r\n                                            <Col xs={4}>\r\n                                                <img src={resultData.SafetyResult ? resultData.SafetyResult[0].Gloves ? gloveen : glovedis : \"\"} alt=\"\" className=\"img-fluid safImg\" />\r\n                                            </Col>\r\n                                            <Col xs={4}>\r\n                                                <img src={resultData.SafetyResult ? resultData.SafetyResult[0].Hat ? haten : hatdis : \"\"} alt=\"\" className=\"img-fluid safImg\" />\r\n                                            </Col>\r\n                                            <Col xs={4}>\r\n                                                <img src={resultData.SafetyResult ? resultData.SafetyResult[0].Mask ? masken : maskdis : \"\"} alt=\"\" className=\"img-fluid safImg\" />\r\n                                            </Col>\r\n                                            <Col xs={4}>\r\n                                                <img src={resultData.SafetyResult ? resultData.SafetyResult[0].Vest ? vesten : vestdis : \"\"} alt=\"\" className=\"img-fluid safImg\" />\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </Col>\r\n                                </Row>\r\n                                <div>\r\n                                </div>\r\n                            </Card>\r\n                        </div>\r\n                        : \"\"}\r\n                    <button className='btn logOutBtn' onClick={logOutHandler}>Log Out</button>\r\n                </Container>\r\n            </div >\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default User\r\n"],"names":["useForm","register","handleSubmit","useState","fileName","setFileName","resultData","setResultData","dataVisible","setDataVisible","className","Container","onSubmit","data","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","image","onload","result","image64","replace","console","log","axios","eventsApiURL","health","rule","person","deviceid","lng","lat","then","res","catch","err","onerror","error","htmlFor","onChange","e","target","files","name","id","type","Card","Row","Col","md","src","SafetyResult","Photo","alt","Device","Name","Lattitude","Longitude","xs","Boot","booten","bootdis","Glasses","eyeen","eyedis","Gloves","gloveen","glovedis","Hat","haten","hatdis","Mask","masken","maskdis","Vest","vesten","vestdis","onClick","sessionStorage","clear","window","location","reload","redirect"],"sourceRoot":""}